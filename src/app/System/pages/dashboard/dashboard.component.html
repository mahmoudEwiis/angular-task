<!-- dashboard.component.html -->
<p-table
  #dt
  [value]="products"
  [paginator]="true"
  [rows]="6"
  [globalFilterFields]="['title', 'brand', 'category']"
  [resizableColumns]="true"
  [scrollable]="true"
  scrollHeight="400px"
>
  <ng-template pTemplate="caption">
    <div class="flex justify-between">
      <span class="p-input-icon-left">
        <i class="pi pi-search"></i>
        <input
          pInputText
          type="text"
          (input)="dt.filterGlobal($event.target, 'contains')"
          placeholder="Search"
        />
      </span>
      <button pButton type="button" label="Export CSV" icon="pi pi-upload" (click)="exportCSV(dt)">Export </button>
    </div>
  </ng-template>

  <ng-template pTemplate="header">
    <tr>
      <th pSortableColumn="id">ID <p-sortIcon field="id" /></th>
      <th pSortableColumn="title">Title <p-sortIcon field="title" /></th>
      <th pSortableColumn="brand">Brand <p-sortIcon field="brand" /></th>
      <th pSortableColumn="category">Category <p-sortIcon field="category" /></th>
      <th pSortableColumn="price">Price <p-sortIcon field="price" /></th>
    </tr>
    <tr>
      <th><input pInputText type="text" (input)="dt.filter($event.target, 'id', 'contains')" /></th>
      <th><input pInputText type="text" (input)="dt.filter($event.target, 'title', 'contains')" /></th>
      <th><input pInputText type="text" (input)="dt.filter($event.target, 'brand', 'contains')" /></th>
      <th><input pInputText type="text" (input)="dt.filter($event.target, 'category', 'contains')" /></th>
      <th><input pInputText type="text" (input)="dt.filter($event.target, 'price', 'contains')" /></th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-product>
    <tr>
      <td>{{ product.id }}</td>
      <td>{{ product.title }}</td>
      <td>{{ product.brand }}</td>
      <td>{{ product.category }}</td>
      <td>{{ product.price | currency }}</td>
    </tr>
  </ng-template>
</p-table>
